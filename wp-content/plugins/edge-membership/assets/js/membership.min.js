!function(a){"use strict";var e={};function s(){var e=a(".edge-login-opener"),s=a(".edge-login-register-holder");if(e){var t=a(".edge-login-register-content");e.on("click",function(e){e.preventDefault(),s.fadeIn(300),s.addClass("opened")}),s.on("click",function(e){s.hasClass("opened")&&(s.fadeOut(300),s.removeClass("opened"))}),a(".edge-login-register-content").on("click",function(e){e.stopPropagation()}),a(window).on("keyup",function(e){s.hasClass("opened")&&27===e.keyCode&&(s.fadeOut(300),s.removeClass("opened"))}),t.tabs()}}function t(){a(".edge-login-form").on("submit",function(e){e.preventDefault();var s={action:"edge_membership_login_user",security:a(this).find("#edge-login-security").val(),login_data:a(this).serialize()};return a.ajax({type:"POST",data:s,url:EdgeAjaxUrl,success:function(e){var s;o(s=JSON.parse(e)),"success"==s.status&&(window.location=s.redirect)}}),!1})}function r(){a(".edge-register-form").on("submit",function(e){e.preventDefault();var s={action:"edge_membership_register_user",security:a(this).find("#edge-register-security").val(),register_data:a(this).serialize()};return a.ajax({type:"POST",data:s,url:EdgeAjaxUrl,success:function(e){var s;o(s=JSON.parse(e)),"success"==s.status&&(window.location=s.redirect)}}),!1})}function n(){var t=a(".edge-reset-pass-form");t.submit(function(e){e.preventDefault();var s={action:"edge_membership_user_lost_password",user_login:t.find("#user_reset_password_login").val()};a.ajax({type:"POST",data:s,url:EdgeAjaxUrl,success:function(e){var s=JSON.parse(e);o(s),"success"==s.status&&(window.location=s.redirect)}})})}function o(e){var s=a(".edge-membership-response-holder"),t=_.template(a(".edge-membership-response-template").html())({messageClass:"success"===e.status?"edge-membership-message-succes":"edge-membership-message-error",message:e.message});s.html(t)}function i(){var e=a("#edge-membership-update-profile-form");if(e.length){var r=e.find("button"),n=r.data("updating-text"),i=r.data("updated-text");e.on("submit",function(e){e.preventDefault();var t=r.html();r.html(n);var s={action:"edge_membership_update_user_profile",data:a(this).serialize()};return a.ajax({type:"POST",data:s,url:EdgeAjaxUrl,success:function(e){var s;o(s=JSON.parse(e)),"success"==s.status?(r.html(i),window.location=s.redirect):r.html(t)}}),!1})}}"undefined"!=typeof edge&&(edge.modules.socialLogin=e),e.edgeUserLogin=t,e.edgeUserRegister=r,e.edgeUserLostPassword=n,e.edgeInitLoginWidgetModal=s,e.edgeUpdateUserProfile=i,a(document).ready(function(){s(),t(),r(),n(),i()}),a(window).load(function(){}),a(window).resize(function(){}),a(window).scroll(function(){})}(jQuery);